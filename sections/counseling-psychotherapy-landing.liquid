{% assign product = all_products['counseling-and-psychotherapy-theories-in-context-and-practice-skills-strategies-and-techniques'] %}
{% assign available_variant = product.first_available_variant %}
{% assign is_available = false %}
{% if product and product.available and available_variant and available_variant.available %}
  {% assign is_available = true %}
{% endif %}

<div class="counseling-landing">
  <style>
    .counseling-landing {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      color: #0b1b2b;
      background: #f7fbff;
    }
    .counseling-landing .container {
      max-width: 1080px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    .counseling-landing h1,
    .counseling-landing h2,
    .counseling-landing h3 {
      color: #0b1b2b;
    }
    .page-hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      align-items: center;
      padding: 3rem 0 2rem;
    }
    .hero-media {
      position: relative;
      background: linear-gradient(180deg, #ffffff, #e5f0ff);
      border: 1px solid rgba(12, 43, 80, 0.12);
      border-radius: 16px;
      padding: 1.25rem;
      box-shadow: 0 16px 40px rgba(12, 43, 80, 0.12);
    }
    .hero-media img {
      width: 100%;
      display: block;
      border-radius: 12px;
      box-shadow: inset 0 0 0 1px rgba(12, 43, 80, 0.05);
    }
    .hero-badge {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: #194785;
      color: #fff;
      padding: 0.4rem 0.9rem;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 700;
      letter-spacing: 0.01em;
      box-shadow: 0 10px 25px rgba(25, 71, 133, 0.35);
    }
    .hero-content h1 {
      font-size: clamp(2.1rem, 4vw, 3rem);
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    .hero-content p {
      font-size: 1.05rem;
      color: #40556d;
      line-height: 1.7;
    }
    .hero-meta {
      display: inline-flex;
      gap: 0.5rem;
      align-items: center;
      background: #102b4d;
      color: #fff;
      padding: 0.45rem 0.9rem;
      border-radius: 12px;
      font-weight: 700;
      margin: 1rem 0;
      box-shadow: 0 12px 30px rgba(16, 43, 77, 0.25);
    }
    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }
    .purchase-card {
      background: #fff;
      border: 1px solid rgba(12, 43, 80, 0.12);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 18px 40px rgba(12, 43, 80, 0.12);
      margin-top: 1.25rem;
      display: grid;
      gap: 0.75rem;
      max-width: 460px;
    }
    .purchase-price {
      font-size: 1.6rem;
      font-weight: 800;
      color: #0b1b2b;
    }
    .purchase-price span {
      display: block;
      font-size: 0.95rem;
      color: #40556d;
      font-weight: 600;
    }
    .buy-now-form {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      width: 100%;
    }
    .buy-now {
      background: linear-gradient(135deg, #1d5bb5, #123a70);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 0.95rem 1.2rem;
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease;
      box-shadow: 0 12px 30px rgba(29, 91, 181, 0.35);
    }
    .buy-now:hover:not([disabled]),
    .buy-now:focus-visible:not([disabled]) {
      transform: translateY(-1px);
      box-shadow: 0 16px 36px rgba(29, 91, 181, 0.45);
    }
    .buy-now[disabled] {
      opacity: 0.65;
      cursor: not-allowed;
      box-shadow: none;
    }
    .reassurance {
      display: grid;
      gap: 0.35rem;
      font-size: 0.95rem;
      color: #32455a;
    }
    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin: 1rem 0 0;
    }
    .pill-list span {
      background: rgba(16, 43, 77, 0.08);
      border: 1px solid rgba(16, 43, 77, 0.15);
      padding: 0.4rem 0.75rem;
      border-radius: 999px;
      font-weight: 600;
      color: #123a70;
    }
    .feature-section {
      padding: 2.5rem 0;
    }
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.25rem;
    }
    .feature-card {
      background: #fff;
      border: 1px solid rgba(12, 43, 80, 0.12);
      border-radius: 14px;
      padding: 1.15rem;
      box-shadow: 0 12px 28px rgba(12, 43, 80, 0.08);
    }
    .feature-card h3 {
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    .feature-card p,
    .feature-card ul {
      color: #40556d;
      line-height: 1.6;
    }
    .feature-card ul {
      padding-left: 1.1rem;
      margin: 0.5rem 0 0;
    }
    .quote {
      background: #102b4d;
      color: #e7f1ff;
      padding: 2rem 1.5rem;
      border-radius: 16px;
      box-shadow: 0 18px 40px rgba(12, 43, 80, 0.2);
      margin-top: 2rem;
    }
    .quote strong {
      display: block;
      margin-top: 0.75rem;
      color: #bcd6ff;
      font-size: 0.95rem;
    }
    .cta-banner {
      margin: 3rem 0;
      background: linear-gradient(135deg, #123a70, #0d2e58);
      color: #fff;
      border-radius: 16px;
      padding: 2rem 1.5rem;
      display: grid;
      gap: 1rem;
      align-items: center;
      box-shadow: 0 20px 44px rgba(13, 46, 88, 0.35);
    }
    .cta-banner .cta-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
    }
    .cta-banner .cta-note {
      color: rgba(231, 241, 255, 0.9);
      font-size: 0.95rem;
    }
    .cta-banner .buy-now {
      background: #fbbf24;
      color: #0b1b2b;
      box-shadow: 0 14px 30px rgba(251, 191, 36, 0.4);
    }
    .purchase-status {
      font-size: 0.95rem;
      color: #0b1b2b;
      min-height: 1.2em;
    }
    @media (max-width: 640px) {
      .purchase-card {
        width: 100%;
      }
      .hero-meta {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>

  <section class="container page-hero" aria-labelledby="counseling-hero-heading">
    <div class="hero-media">
      <span class="hero-badge">Digital download</span>
      <img src="https://cdn.shopify.com/s/files/1/0989/7020/6389/files/517je8egSuL.jpg?v=1765564315" alt="Counseling and Psychotherapy Theories book cover">
    </div>
    <div class="hero-content">
      <div class="hero-meta">
        <span>Professional License</span>
        <span>Instant PDF Access</span>
        <span>Evidence-Based</span>
      </div>
      <h1 id="counseling-hero-heading">Counseling &amp; Psychotherapy Theories — In Context, Practice, and Skills.</h1>
      <p>Download a ready-to-use digital guide that walks you through major counseling and psychotherapy theories with practical strategies, case-ready techniques, and exercises you can apply in session today.</p>
      <div class="pill-list" aria-label="Key highlights">
        <span>30+ interventions</span>
        <span>Case-ready prompts</span>
        <span>Works for telehealth</span>
        <span>Clinician-friendly layouts</span>
      </div>
      <div class="purchase-card" role="region" aria-label="Purchase counseling and psychotherapy guide">
        <div class="purchase-price">
          {{ available_variant.price | default: product.price | money }}
          <span>One-time payment — yours to keep.</span>
        </div>
        <form class="buy-now-form js-buy-now-form" method="post" action="/cart/add" novalidate>
          <input type="hidden" name="id" value="{{ available_variant.id }}">
          <input type="hidden" name="quantity" value="1">
          <input type="hidden" name="return_to" value="/checkout">
          <button class="buy-now" type="submit" data-variant-id="{{ available_variant.id }}" {% unless is_available %}disabled{% endunless %}>
            {% if is_available %}
              Download for {{ available_variant.price | default: product.price | money }}
            {% else %}
              Sold Out
            {% endif %}
          </button>
        </form>
        <div class="reassurance">
          <span>✔ Instant email delivery after checkout</span>
          <span>✔ Print or share digitally with clients</span>
          <span>✔ Backed by our 7-day clinician guarantee</span>
        </div>
        <p class="purchase-status" role="status" aria-live="polite" data-buy-now-message></p>
      </div>
    </div>
  </section>

  <section class="container feature-section" aria-labelledby="what-you-get">
    <h2 id="what-you-get">What you get inside</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>Clear theory breakdowns</h3>
        <p>Concise guides for CBT, DBT, ACT, psychodynamic, humanistic, and integrative approaches with examples you can reference mid-session.</p>
      </div>
      <div class="feature-card">
        <h3>Session-ready skills</h3>
        <p>Prompts, scripts, and worksheets that help clients grasp concepts quickly—perfect for telehealth screen shares or printed handouts.</p>
      </div>
      <div class="feature-card">
        <h3>Step-by-step techniques</h3>
        <ul>
          <li>Thought records and behavior experiments</li>
          <li>Emotion regulation and mindfulness drills</li>
          <li>Case formulation outlines you can adapt fast</li>
        </ul>
      </div>
      <div class="feature-card">
        <h3>Client-friendly visuals</h3>
        <p>Clean layouts and diagrams that make theory tangible for clients and keep sessions focused on outcomes.</p>
      </div>
    </div>
  </section>

  <div class="container quote" aria-label="Therapist feedback">
    “I keep this guide open during sessions—it gives me language, prompts, and visuals my clients connect with immediately.”
    <strong>— Licensed Counselor</strong>
  </div>

  <section class="container feature-section" aria-labelledby="how-it-helps">
    <h2 id="how-it-helps">Built to support your practice</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>Reduce prep time</h3>
        <p>Pull proven interventions in minutes instead of building new slides or worksheets before every session.</p>
      </div>
      <div class="feature-card">
        <h3>Increase client engagement</h3>
        <p>Use visual aids and structured scripts that help clients understand and apply therapeutic skills.</p>
      </div>
      <div class="feature-card">
        <h3>Stay organized</h3>
        <p>Keep your theory refreshers, prompts, and practice exercises in one digital file you can reference anywhere.</p>
      </div>
    </div>
  </section>

  <section class="container cta-banner" aria-labelledby="final-cta">
    <div>
      <h2 id="final-cta">Download the Counseling &amp; Psychotherapy Theory Guide</h2>
      <p class="cta-note">One-time purchase for clinicians who want practical, theory-informed tools ready for every client.</p>
    </div>
    <div class="cta-actions">
      <form class="buy-now-form js-buy-now-form" method="post" action="/cart/add" novalidate>
        <input type="hidden" name="id" value="{{ available_variant.id }}">
        <input type="hidden" name="quantity" value="1">
        <input type="hidden" name="return_to" value="/checkout">
        <button class="buy-now" type="submit" data-variant-id="{{ available_variant.id }}" {% unless is_available %}disabled{% endunless %}>
          {% if is_available %}
            Get instant access — {{ available_variant.price | default: product.price | money }}
          {% else %}
            Sold Out
          {% endif %}
        </button>
      </form>
      <span class="cta-note">Secure checkout · Instant PDF download · Professional license</span>
    </div>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (!window.fetch) {
      return;
    }

    var buyNowForms = document.querySelectorAll('.counseling-landing .js-buy-now-form');
    var messageEl = document.querySelector('.counseling-landing [data-buy-now-message]');
    var isAvailable = {{ is_available | default: false | json }};

    if (!buyNowForms.length) {
      return;
    }

    var toggleButtons = function(shouldDisable) {
      buyNowForms.forEach(function(form) {
        var button = form.querySelector('.buy-now');
        if (!button) return;
        if (shouldDisable) {
          button.setAttribute('disabled', 'disabled');
        } else if (isAvailable) {
          button.removeAttribute('disabled');
        }
      });
    };

    if (!isAvailable) {
      toggleButtons(true);
      return;
    }

    buyNowForms.forEach(function(form) {
      form.addEventListener('submit', function(event) {
        event.preventDefault();

        var button = form.querySelector('.buy-now');
        if (button && button.hasAttribute('disabled')) {
          return;
        }

        var variantInput = form.querySelector('input[name="id"]');
        var variantId = variantInput && variantInput.value ? variantInput.value : (button ? button.getAttribute('data-variant-id') : null);

        if (!variantId) {
          if (messageEl) {
            messageEl.textContent = 'Please try again.';
          }
          return;
        }

        toggleButtons(true);
        if (messageEl) {
          messageEl.textContent = '';
        }

        fetch('/cart/add.js', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          },
          body: JSON.stringify({ id: variantId, quantity: 1 })
        })
          .then(function(response) {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(function() {
            window.location.assign('/checkout');
          })
          .catch(function() {
            if (messageEl) {
              messageEl.textContent = 'Please try again.';
            }
            toggleButtons(false);
            form.submit();
          });
      });
    });
  });
</script>
