{% assign product = all_products['essential-counselling-and-therapy-skills-the-skilled-client-model'] %}
{% assign available_variant = product.first_available_variant %}
{% assign is_available = false %}
{% if product and product.available and available_variant and available_variant.available %}
  {% assign is_available = true %}
{% endif %}

<div class="essential-skills-landing">
  <style>
    .essential-skills-landing {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      color: #0c1f2e;
      background: #f6f9ff;
    }
    .essential-skills-landing .container {
      max-width: 1080px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    .essential-skills-landing h1,
    .essential-skills-landing h2,
    .essential-skills-landing h3 {
      color: #0c1f2e;
    }
    .essential-skills-landing .hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2.5rem;
      align-items: center;
      padding: 3rem 0 2rem;
    }
    .essential-skills-landing .hero-media {
      position: relative;
      padding: 1.5rem;
      border-radius: 18px;
      background: linear-gradient(180deg, #ffffff, #e4edff);
      box-shadow: 0 20px 45px rgba(12, 31, 46, 0.12);
      border: 1px solid rgba(12, 31, 46, 0.12);
    }
    .essential-skills-landing .hero-media img {
      width: 100%;
      display: block;
      border-radius: 14px;
      box-shadow: inset 0 0 0 1px rgba(12, 31, 46, 0.06);
    }
    .essential-skills-landing .hero-badge {
      position: absolute;
      top: 1.1rem;
      left: 1.1rem;
      padding: 0.45rem 0.95rem;
      background: #1b4f72;
      color: #fff;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 700;
      letter-spacing: 0.01em;
      box-shadow: 0 12px 24px rgba(27, 79, 114, 0.35);
    }
    .essential-skills-landing .hero-meta {
      display: inline-flex;
      gap: 0.6rem;
      align-items: center;
      background: #102a3d;
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 12px;
      font-weight: 700;
      margin-bottom: 1.1rem;
      box-shadow: 0 14px 32px rgba(16, 42, 61, 0.25);
      flex-wrap: wrap;
    }
    .essential-skills-landing .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }
    .essential-skills-landing h1 {
      font-size: clamp(2.1rem, 4vw, 3.15rem);
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    .essential-skills-landing .hero-content p {
      font-size: 1.05rem;
      color: #44576b;
      line-height: 1.7;
    }
    .essential-skills-landing .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin: 1rem 0 0;
    }
    .essential-skills-landing .pill-list span {
      background: rgba(27, 79, 114, 0.08);
      border: 1px solid rgba(27, 79, 114, 0.16);
      padding: 0.4rem 0.75rem;
      border-radius: 999px;
      font-weight: 600;
      color: #1b4f72;
    }
    .essential-skills-landing .purchase-card {
      background: #fff;
      border: 1px solid rgba(12, 31, 46, 0.12);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 18px 40px rgba(12, 31, 46, 0.12);
      margin-top: 1.5rem;
      display: grid;
      gap: 0.75rem;
      max-width: 460px;
    }
    .essential-skills-landing .purchase-price {
      font-size: 1.65rem;
      font-weight: 800;
      color: #0c1f2e;
    }
    .essential-skills-landing .purchase-price span {
      display: block;
      font-size: 0.95rem;
      color: #44576b;
      font-weight: 600;
    }
    .essential-skills-landing .buy-now-form {
      display: flex;
      flex-direction: column;
      gap: 0.55rem;
      width: 100%;
    }
    .essential-skills-landing .buy-now {
      background: linear-gradient(135deg, #1b4f72, #153a54);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 0.95rem 1.2rem;
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease;
      box-shadow: 0 12px 28px rgba(27, 79, 114, 0.35);
    }
    .essential-skills-landing .buy-now:hover:not([disabled]),
    .essential-skills-landing .buy-now:focus-visible:not([disabled]) {
      transform: translateY(-1px);
      box-shadow: 0 16px 34px rgba(27, 79, 114, 0.45);
    }
    .essential-skills-landing .buy-now[disabled] {
      opacity: 0.65;
      cursor: not-allowed;
      box-shadow: none;
    }
    .essential-skills-landing .reassurance {
      display: grid;
      gap: 0.35rem;
      font-size: 0.95rem;
      color: #32465a;
    }
    .essential-skills-landing .section {
      padding: 2.5rem 0;
    }
    .essential-skills-landing .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1.25rem;
    }
    .essential-skills-landing .feature-card {
      background: #fff;
      border: 1px solid rgba(12, 31, 46, 0.12);
      border-radius: 14px;
      padding: 1.15rem;
      box-shadow: 0 12px 28px rgba(12, 31, 46, 0.08);
    }
    .essential-skills-landing .feature-card h3 {
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    .essential-skills-landing .feature-card p,
    .essential-skills-landing .feature-card ul {
      color: #44576b;
      line-height: 1.6;
    }
    .essential-skills-landing .feature-card ul {
      padding-left: 1.1rem;
      margin: 0.5rem 0 0;
    }
    .essential-skills-landing .quote {
      background: #102a3d;
      color: #e6f1ff;
      padding: 2rem 1.5rem;
      border-radius: 16px;
      box-shadow: 0 18px 40px rgba(12, 31, 46, 0.2);
      margin-top: 2rem;
    }
    .essential-skills-landing .quote strong {
      display: block;
      margin-top: 0.75rem;
      color: #bdd6ff;
      font-size: 0.95rem;
    }
    .essential-skills-landing .cta-banner {
      margin: 3rem 0;
      background: linear-gradient(135deg, #153a54, #0c2436);
      color: #fff;
      border-radius: 16px;
      padding: 2rem 1.5rem;
      display: grid;
      gap: 1rem;
      align-items: center;
      box-shadow: 0 20px 44px rgba(12, 36, 54, 0.35);
    }
    .essential-skills-landing .cta-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
    }
    .essential-skills-landing .cta-note {
      color: rgba(230, 241, 255, 0.9);
      font-size: 0.95rem;
    }
    .essential-skills-landing .cta-banner .buy-now {
      background: #f59e0b;
      color: #0c1f2e;
      box-shadow: 0 14px 30px rgba(245, 158, 11, 0.4);
    }
    .essential-skills-landing .reviews {
      margin: 3rem 0;
      background: #fff;
      border: 1px solid rgba(12, 31, 46, 0.12);
      border-radius: 18px;
      padding: 2rem 1.75rem;
      box-shadow: 0 18px 38px rgba(12, 31, 46, 0.12);
    }
    .essential-skills-landing .reviews header {
      display: grid;
      gap: 0.4rem;
      margin-bottom: 1.5rem;
    }
    .essential-skills-landing .reviews .section-subtitle {
      color: #44576b;
      font-size: 1rem;
    }
    .essential-skills-landing .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.25rem;
    }
    .essential-skills-landing .review-card {
      background: linear-gradient(180deg, #ffffff, #f6f9ff);
      border: 1px solid rgba(12, 31, 46, 0.14);
      border-radius: 16px;
      padding: 1.25rem 1.35rem;
      display: grid;
      gap: 0.65rem;
      box-shadow: 0 12px 28px rgba(12, 31, 46, 0.1);
    }
    .essential-skills-landing .review-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }
    .essential-skills-landing .reviewer {
      font-weight: 700;
      color: #0c1f2e;
    }
    .essential-skills-landing .review-rating {
      color: #f59e0b;
      font-weight: 800;
      letter-spacing: 0.05em;
    }
    .essential-skills-landing .review-title {
      font-size: 1.05rem;
      font-weight: 800;
      color: #1b4f72;
    }
    .essential-skills-landing .review-meta {
      color: #44576b;
      font-size: 0.95rem;
    }
    .essential-skills-landing .review-body {
      color: #0c1f2e;
      line-height: 1.6;
    }
    .essential-skills-landing .review-footer {
      display: flex;
      justify-content: space-between;
      color: #53697f;
      font-size: 0.92rem;
    }
    .essential-skills-landing .purchase-status {
      font-size: 0.95rem;
      color: #0c1f2e;
      min-height: 1.2em;
    }
    @media (max-width: 640px) {
      .essential-skills-landing .purchase-card {
        width: 100%;
      }
      .essential-skills-landing .hero-meta {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>

  <section class="container hero" aria-labelledby="essential-skills-hero-heading">
    <div class="hero-media">
      <span class="hero-badge">Digital download</span>
      <img src="https://cdn.shopify.com/s/files/1/0989/7020/6389/files/610NRADILvL._SL1360.jpg?v=1766491291" alt="Essential Counselling and Therapy Skills book cover">
    </div>
    <div class="hero-content">
      <div class="hero-meta">
        <span>Skilled Client Model</span>
        <span>Instant PDF access</span>
        <span>Practice-ready tools</span>
      </div>
      <h1 id="essential-skills-hero-heading">Essential Counselling and Therapy Skills: The Skilled Client Model</h1>
      <p>Deliver stronger sessions with a concise digital guide to the Skilled Client Model. Learn how to build collaboration, cultivate client strengths, and structure therapeutic conversations that move clients toward measurable progress.</p>
      <div class="pill-list" aria-label="Key highlights">
        <span>Client empowerment framework</span>
        <span>Session-ready skill drills</span>
        <span>Reflective practice checklists</span>
        <span>Ideal for trainees &amp; supervisors</span>
      </div>
      <div class="purchase-card" role="region" aria-label="Purchase Essential Counselling and Therapy Skills">
        <div class="purchase-price">
          {{ available_variant.price | default: product.price | money }}
          <span>One-time payment — instant digital delivery.</span>
        </div>
        <form class="buy-now-form js-buy-now-form" method="post" action="/cart/add" novalidate>
          <input type="hidden" name="id" value="{{ available_variant.id }}">
          <input type="hidden" name="quantity" value="1">
          <input type="hidden" name="return_to" value="/checkout">
          <button class="buy-now" type="submit" data-variant-id="{{ available_variant.id }}" {% unless is_available %}disabled{% endunless %}>
            {% if is_available %}
              Download for {{ available_variant.price | default: product.price | money }}
            {% else %}
              Sold Out
            {% endif %}
          </button>
        </form>
        <div class="reassurance">
          <span>✔ Immediate PDF access after checkout</span>
          <span>✔ Print or annotate for supervision sessions</span>
          <span>✔ 7-day satisfaction guarantee</span>
        </div>
        <p class="purchase-status" role="status" aria-live="polite" data-buy-now-message></p>
      </div>
    </div>
  </section>

  <section class="container section" aria-labelledby="essential-skills-whats-inside">
    <h2 id="essential-skills-whats-inside">What you'll learn inside</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>The Skilled Client roadmap</h3>
        <p>Master the model's stages with quick reference tables that show how to help clients identify strengths, set goals, and practice new behaviors.</p>
      </div>
      <div class="feature-card">
        <h3>Core counselling micro-skills</h3>
        <p>Sharpen attending, listening, and responding techniques with guidance you can apply in the next client session.</p>
      </div>
      <div class="feature-card">
        <h3>Practice exercises</h3>
        <ul>
          <li>Skill rehearsal prompts for role-play</li>
          <li>Client progress tracking sheets</li>
          <li>Supervision discussion questions</li>
        </ul>
      </div>
      <div class="feature-card">
        <h3>Inclusive, strengths-based care</h3>
        <p>Use culturally responsive strategies that honor each client's values while keeping sessions focused and collaborative.</p>
      </div>
    </div>
  </section>

  <div class="container quote" aria-label="Counsellor testimonial">
    “The Skilled Client Model is a practical, hopeful framework that helps me stay structured and client-centered every session.”
    <strong>— Clinical Supervisor</strong>
  </div>

  <section class="container section" aria-labelledby="essential-skills-benefits">
    <h2 id="essential-skills-benefits">Support your practice with actionable tools</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>Reduce session prep</h3>
        <p>Save time with ready-made scripts, reflection prompts, and homework ideas.</p>
      </div>
      <div class="feature-card">
        <h3>Boost client confidence</h3>
        <p>Give clients a clear path to practice skills between sessions and celebrate progress.</p>
      </div>
      <div class="feature-card">
        <h3>Strengthen supervision</h3>
        <p>Use structured check-ins to guide trainees through each phase of the Skilled Client approach.</p>
      </div>
    </div>
  </section>

  <section class="container reviews" aria-labelledby="essential-skills-reviews">
    <header>
      <h2 id="essential-skills-reviews">Reader reviews</h2>
      <p class="section-subtitle">Recent feedback from counsellors, students, and educators who use this resource.</p>
    </header>
    <div class="reviews-grid">
      <article class="review-card">
        <div class="review-header">
          <span class="reviewer">Maya R.</span>
          <span class="review-rating">★★★★★</span>
        </div>
        <div>
          <p class="review-title">Clear, skill-forward guide</p>
          <p class="review-meta">April 2, 2024 • Digital download • Verified Purchase</p>
        </div>
        <p class="review-body">Every chapter gives me something I can practice with clients. The model is easy to explain and feels empowering.</p>
        <div class="review-footer">
          <span>12 people found this helpful</span>
          <span>Helpful · Report</span>
        </div>
      </article>
      <article class="review-card">
        <div class="review-header">
          <span class="reviewer">Jordan L.</span>
          <span class="review-rating">★★★★★</span>
        </div>
        <div>
          <p class="review-title">Perfect for supervision groups</p>
          <p class="review-meta">January 18, 2024 • Digital download • Verified Purchase</p>
        </div>
        <p class="review-body">The exercises and reflection prompts make it easy to structure role plays. My trainees picked up the skills quickly.</p>
        <div class="review-footer">
          <span>8 people found this helpful</span>
          <span>Helpful · Report</span>
        </div>
      </article>
      <article class="review-card">
        <div class="review-header">
          <span class="reviewer">Avery S.</span>
          <span class="review-rating">★★★★☆</span>
        </div>
        <div>
          <p class="review-title">Practical and concise</p>
          <p class="review-meta">November 5, 2023 • Digital download • Verified Purchase</p>
        </div>
        <p class="review-body">I like how the book stays focused on practice. The summaries are great for quick refreshers before sessions.</p>
        <div class="review-footer">
          <span>4 people found this helpful</span>
          <span>Helpful · Report</span>
        </div>
      </article>
      <article class="review-card">
        <div class="review-header">
          <span class="reviewer">Priya N.</span>
          <span class="review-rating">★★★★★</span>
        </div>
        <div>
          <p class="review-title">Clients notice the difference</p>
          <p class="review-meta">September 12, 2023 • Digital download • Verified Purchase</p>
        </div>
        <p class="review-body">Using this model helped me stay strengths-based and collaborative. Clients told me sessions feel more focused.</p>
        <div class="review-footer">
          <span>6 people found this helpful</span>
          <span>Helpful · Report</span>
        </div>
      </article>
    </div>
  </section>

  <section class="container cta-banner" aria-labelledby="essential-skills-cta">
    <div>
      <h2 id="essential-skills-cta">Download Essential Counselling and Therapy Skills today</h2>
      <p class="cta-note">Own the Skilled Client Model playbook for just $29 and start using it with clients right away.</p>
    </div>
    <div class="cta-actions">
      <form class="buy-now-form js-buy-now-form" method="post" action="/cart/add" novalidate>
        <input type="hidden" name="id" value="{{ available_variant.id }}">
        <input type="hidden" name="quantity" value="1">
        <input type="hidden" name="return_to" value="/checkout">
        <button class="buy-now" type="submit" data-variant-id="{{ available_variant.id }}" {% unless is_available %}disabled{% endunless %}>
          {% if is_available %}
            Get instant access — {{ available_variant.price | default: product.price | money }}
          {% else %}
            Sold Out
          {% endif %}
        </button>
      </form>
      <span class="cta-note">Secure checkout · Instant PDF delivery · Practitioner-approved</span>
    </div>
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (!window.fetch) {
      return;
    }

    var buyNowForms = document.querySelectorAll('.essential-skills-landing .js-buy-now-form');
    var messageEl = document.querySelector('.essential-skills-landing [data-buy-now-message]');
    var isAvailable = {{ is_available | default: false | json }};

    if (!buyNowForms.length) {
      return;
    }

    var toggleButtons = function(shouldDisable) {
      buyNowForms.forEach(function(form) {
        var button = form.querySelector('.buy-now');
        if (!button) return;
        if (shouldDisable) {
          button.setAttribute('disabled', 'disabled');
        } else if (isAvailable) {
          button.removeAttribute('disabled');
        }
      });
    };

    if (!isAvailable) {
      toggleButtons(true);
      return;
    }

    buyNowForms.forEach(function(form) {
      form.addEventListener('submit', function(event) {
        event.preventDefault();

        var button = form.querySelector('.buy-now');
        if (button && button.hasAttribute('disabled')) {
          return;
        }

        var variantInput = form.querySelector('input[name="id"]');
        var variantId = variantInput && variantInput.value ? variantInput.value : (button ? button.getAttribute('data-variant-id') : null);

        if (!variantId) {
          if (messageEl) {
            messageEl.textContent = 'Please try again.';
          }
          return;
        }

        toggleButtons(true);
        if (messageEl) {
          messageEl.textContent = '';
        }

        fetch('/cart/add.js', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          },
          body: JSON.stringify({ id: variantId, quantity: 1 })
        })
          .then(function(response) {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(function() {
            window.location.assign('/checkout');
          })
          .catch(function() {
            if (messageEl) {
              messageEl.textContent = 'Please try again.';
            }
            toggleButtons(false);
            form.submit();
          });
      });
    });
  });
</script>
