{% assign featured_collection = collections['frontpage'] %}
{% if featured_collection == nil or featured_collection.products_count == 0 %}
  {% assign featured_collection = collections['all'] %}
{% endif %}

{% assign featured_product = nil %}
{% if featured_collection and featured_collection.products_count > 0 %}
  {% assign featured_product = featured_collection.products | first %}
{% endif %}
{% assign all_products_collection = collections['all'] %}

<style>
  :root {
    --bg-gradient-start: #eff6ff;
    --bg-gradient-mid: rgba(255, 255, 255, 0.94);
    --bg-gradient-end: #dbeafe;
    --color-primary: #2563eb;
    --color-text: #1f2937;
    --color-muted: #475569;
    --color-surface: rgba(255, 255, 255, 0.88);
    --shadow-soft: 0 28px 70px rgba(15, 23, 42, 0.12);
    --radius-xl: 28px;
    font-family: "Inter", "Poppins", "Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  body {
    background-color: var(--bg-gradient-end);
    color: var(--color-text);
  }

  .page-wrapper {
    position: relative;
    background: radial-gradient(circle at 28% 35%, rgba(59, 130, 246, 0.22), transparent 58%),
      radial-gradient(circle at 75% 18%, rgba(14, 165, 233, 0.16), transparent 60%),
      linear-gradient(125deg, var(--bg-gradient-start) 5%, var(--bg-gradient-mid) 52%, var(--bg-gradient-end) 100%);
    min-height: 100vh;
    overflow: hidden;
    font-family: "Inter", "Poppins", "Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  .page-wrapper::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 25%, rgba(37, 99, 235, 0.28), transparent 55%),
      radial-gradient(circle at 68% 70%, rgba(96, 165, 250, 0.16), transparent 65%),
      linear-gradient(140deg, rgba(37, 99, 235, 0.08) 0%, transparent 50%);
    filter: blur(32px);
    opacity: 0.85;
    pointer-events: none;
    z-index: 0;
  }

  .content-max {
    position: relative;
    z-index: 1;
    max-width: min(100%, 1360px);
    margin: 0 auto;
    padding: 3.5rem 1.75rem;
  }

  @media (min-width: 1024px) {
    .content-max {
      padding: 5rem 2.5rem;
    }
  }

  .hero {
    position: relative;
    padding: clamp(1.5rem, 4vw, 2.75rem) 0;
  }

  .hero-container {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    flex-wrap: nowrap;
    gap: clamp(2rem, 4vw, 3.5rem);
    max-width: 1280px;
    margin: 0 auto;
    padding: clamp(3rem, 6vw, 4.75rem) clamp(1.5rem, 4vw, 2.75rem);
    box-sizing: border-box;
    overflow-x: hidden;
  }

  .hero-column {
    flex: 1 1 clamp(300px, 43vw, 560px);
    max-width: clamp(340px, 46vw, 620px);
    min-width: 0;
  }

  .hero-column h1,
  .hero-column p {
    overflow-wrap: break-word;
    word-break: break-word;
  }

  @media (max-width: 1023px) {
    .hero-container {
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 2rem;
    }

    .hero-column {
      width: min(100%, 720px);
      max-width: none;
      min-width: auto;
    }
  }

  @media (max-width: 1023px) {
    .hero-card {
      margin: 0 auto;
    }

    .hero-showcase {
      width: min(100%, 480px);
      margin: 0 auto;
    }
  }

  .hero-card {
    position: relative;
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    grid-auto-rows: max-content;
    gap: clamp(1.75rem, 2.8vw, 2.4rem);
    background: var(--color-surface);
    border-radius: calc(var(--radius-xl) + 10px);
    padding: clamp(2.6rem, 3vw, 3.4rem);
    box-shadow: 0 44px 82px rgba(15, 23, 42, 0.15);
    backdrop-filter: blur(18px);
    width: 100%;
    align-content: start;
    align-self: stretch;
    min-width: 0;
  }

  @media (max-width: 639px) {
    .hero-card {
      padding: 2.2rem;
    }
  }

  @media (prefers-reduced-transparency: reduce) {
    .hero-card {
      background: #ffffff;
      backdrop-filter: none;
    }
  }

  .hero-card::after {
    content: "";
    position: absolute;
    inset: 12px;
    border-radius: calc(var(--radius-xl) + 2px);
    border: 1px solid rgba(37, 99, 235, 0.08);
    pointer-events: none;
  }

  .hero-header {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 1.4rem;
    max-width: 600px;
    z-index: 1;
  }

  .hero-badge {
    align-self: flex-start;
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.22), rgba(37, 99, 235, 0.08));
    color: var(--color-primary);
    font-weight: 600;
    padding: 0.5rem 1.35rem;
    border-radius: 999px;
    font-size: 0.82rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
  }

  h1.hero-title {
    font-size: clamp(3.4rem, 6vw, 5rem);
    line-height: 1.02;
    font-weight: 600;
    color: var(--color-text);
    letter-spacing: -0.025em;
    overflow-wrap: break-word;
    word-break: break-word;
  }

  .hero-subtitle {
    font-size: clamp(1.2rem, 2.4vw, 1.45rem);
    color: rgba(30, 41, 59, 0.78);
    line-height: 1.9;
    font-weight: 400;
    overflow-wrap: break-word;
    word-break: break-word;
  }

  .hero-points {
    display: grid;
    gap: 1.1rem;
    margin: 0;
    padding: 0;
    list-style: none;
    z-index: 1;
    max-width: 600px;
  }

  .hero-points li {
    display: flex;
    gap: 0.75rem;
    align-items: flex-start;
    font-size: 1.05rem;
    color: rgba(71, 85, 105, 0.88);
    line-height: 1.7;
  }

  .hero-points li svg {
    flex-shrink: 0;
    width: 18px;
    height: 18px;
    color: var(--color-primary);
    margin-top: 0.1rem;
  }

  .hero-cta {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    align-items: stretch;
    width: min(100%, 360px);
    z-index: 1;
  }

  .hero-purchase-card {
    display: flex;
    flex-direction: column;
    gap: 1.3rem;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(148, 163, 184, 0.22);
    border-radius: 22px;
    padding: 1.6rem 1.8rem;
    box-shadow: 0 28px 56px rgba(15, 23, 42, 0.12);
    backdrop-filter: blur(14px);
  }

  .hero-price {
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
    min-width: 0;
  }

  .hero-price-amount {
    font-size: 2.4rem;
    font-weight: 600;
    color: var(--color-text);
  }

  .hero-price-caption {
    font-size: 1rem;
    color: rgba(71, 85, 105, 0.78);
  }

  .button-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 0.95rem 2.4rem;
    background-color: var(--color-primary);
    color: #ffffff;
    border-radius: 999px;
    font-weight: 600;
    font-size: 1.05rem;
    box-shadow: 0 18px 30px rgba(37, 99, 235, 0.25);
    transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }

  .hero-purchase-card .button-primary {
    width: 100%;
    justify-content: center;
  }

  .button-primary:hover {
    opacity: 0.96;
    transform: translateY(-2px);
    box-shadow: 0 24px 46px rgba(37, 99, 235, 0.3);
  }

  .button-primary:focus {
    outline: 3px solid rgba(37, 99, 235, 0.35);
    outline-offset: 4px;
  }

  .button-primary[aria-busy="true"],
  .button-primary[data-loading="true"] {
    opacity: 0.9;
    transform: none;
    box-shadow: 0 14px 26px rgba(37, 99, 235, 0.25);
  }

  .button-primary[aria-busy="true"]::after,
  .button-primary[data-loading="true"]::after {
    content: "";
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 999px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    border-top-color: #ffffff;
    animation: spin 0.9s linear infinite;
    right: 1.4rem;
  }

  .hero-trust {
    color: rgba(71, 85, 105, 0.85);
    font-size: 1.05rem;
    line-height: 1.8;
    z-index: 1;
    max-width: 520px;
    margin-top: 0.35rem;
  }

  .hero-visual {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    background: var(--color-surface);
    border-radius: calc(var(--radius-xl) + 10px);
    padding: clamp(2.4rem, 3vw, 3rem);
    box-shadow: 0 44px 82px rgba(15, 23, 42, 0.15);
    border: 1px solid rgba(148, 163, 184, 0.18);
    backdrop-filter: blur(18px);
    align-self: stretch;
    min-width: 0;
    overflow: hidden;
  }

  .hero-visual::before,
  .hero-visual::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 0;
    pointer-events: none;
  }

  .hero-visual::before {
    background: radial-gradient(circle at 78% 18%, rgba(59, 130, 246, 0.25), transparent 58%),
      radial-gradient(circle at 18% 82%, rgba(16, 185, 129, 0.18), transparent 65%);
    opacity: 0.85;
  }

  .hero-visual::after {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.45), transparent 55%);
    opacity: 0.9;
  }

  .hero-visual > * {
    position: relative;
    z-index: 1;
  }

  .hero-showcase {
    position: relative;
    width: 100%;
    max-width: 640px;
    display: grid;
    gap: clamp(1.4rem, 2.4vw, 2.1rem);
    z-index: 1;
    justify-items: stretch;
    justify-self: stretch;
    align-content: start;
  }

  @media (max-width: 719px) {
    .hero-showcase {
      width: 100%;
      gap: 1.25rem;
    }
  }

  .hero-showcase-card {
    background: rgba(255, 255, 255, 0.92);
    border-radius: calc(var(--radius-xl) + 6px);
    padding: clamp(1.75rem, 2.2vw, 2.3rem);
    box-shadow: 0 28px 62px rgba(15, 23, 42, 0.12);
    border: 1px solid rgba(148, 163, 184, 0.18);
    backdrop-filter: blur(12px);
    transition: box-shadow 0.35s ease, transform 0.35s ease;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 1.1rem;
  }

  @media (min-width: 1200px) {
    .hero-card {
      grid-auto-rows: auto;
    }

    .hero-cta {
      margin-top: 0.25rem;
    }

    .hero-purchase-card {
      position: sticky;
      top: 6.5rem;
    }

    .hero-showcase {
      height: 100%;
      grid-auto-rows: 1fr;
    }

    .hero-showcase-card {
      height: 100%;
    }
  }

  .hero-showcase-card:hover {
    transform: translateY(12px);
    box-shadow: 0 32px 72px rgba(15, 23, 42, 0.16);
  }

  @media (max-width: 719px) {
    .hero-purchase-card {
      width: 100%;
    }

    .button-primary {
      width: 100%;
      justify-content: center;
    }

    .hero-showcase-card {
      padding: 1.75rem;
    }
  }

  .hero-showcase-card h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 1.1rem;
    color: var(--color-text);
    overflow-wrap: break-word;
    word-break: break-word;
  }

  .hero-showcase-list {
    display: grid;
    gap: 0.75rem;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .hero-showcase-list li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 1.05rem;
    color: rgba(71, 85, 105, 0.88);
    line-height: 1.7;
  }

  .hero-showcase-list li svg {
    width: 20px;
    height: 20px;
    color: var(--color-primary);
    margin-top: 0.1rem;
  }

  .hero-testimonial {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    font-size: 1.05rem;
    color: rgba(71, 85, 105, 0.88);
    line-height: 1.7;
    background: linear-gradient(160deg, rgba(37, 99, 235, 0.12), rgba(255, 255, 255, 0.96));
    border: 1px solid rgba(37, 99, 235, 0.14);
    box-shadow: 0 32px 64px rgba(37, 99, 235, 0.16);
  }

  .hero-testimonial p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: rgba(30, 41, 59, 0.9);
  }

  .hero-testimonial strong {
    color: var(--color-text);
    font-weight: 600;
    font-size: 1.05rem;
  }

  .hero-testimonial span[aria-hidden="true"] {
    font-size: 1.15rem;
    letter-spacing: 0.18em;
    color: #f59e0b;
  }

  .product-gallery {
    background: #ffffff;
    border-radius: 32px;
    padding: clamp(3rem, 5vw, 4rem);
    box-shadow: 0 24px 60px rgba(15, 23, 42, 0.1);
    margin: clamp(3rem, 6vw, 5rem) 0;
  }

  .product-gallery header {
    text-align: center;
    max-width: 720px;
    margin: 0 auto clamp(2rem, 4vw, 2.75rem);
  }

  .product-gallery h2 {
    font-size: clamp(2.2rem, 4vw, 3rem);
    margin-bottom: 0.75rem;
  }

  .product-gallery p {
    color: var(--color-muted);
    font-size: 1.05rem;
    line-height: 1.7;
  }

  .product-gallery-grid {
    display: grid;
    gap: clamp(1.5rem, 3vw, 2.5rem);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .product-card {
    background: rgba(255, 255, 255, 0.92);
    border-radius: 24px;
    box-shadow: 0 20px 48px rgba(15, 23, 42, 0.08);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }

  .product-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 28px 60px rgba(15, 23, 42, 0.12);
  }

  .product-card a {
    color: inherit;
    text-decoration: none;
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .product-image {
    position: relative;
    overflow: hidden;
    background: linear-gradient(180deg, rgba(37, 99, 235, 0.1), rgba(37, 99, 235, 0.04));
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    aspect-ratio: 4 / 3;
    border-bottom: 1px solid rgba(37, 99, 235, 0.08);
  }

  .product-image img {
    position: relative;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
  }

  @supports not (aspect-ratio: 1) {
    .product-image {
      padding-top: 72%;
    }

    .product-image img {
      position: absolute;
      inset: 1rem;
      width: calc(100% - 2rem);
      height: calc(100% - 2rem);
      max-width: none;
      max-height: none;
      object-fit: contain;
    }
  }

  .product-info {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    flex-grow: 1;
  }

  .product-info h3 {
    font-size: 1.15rem;
    font-weight: 600;
    margin: 0;
  }

  .product-price {
    font-size: 1.05rem;
    font-weight: 500;
    color: var(--color-primary);
  }

  .product-price del {
    font-size: 0.95rem;
    color: rgba(71, 85, 105, 0.65);
    margin-left: 0.5rem;
  }

  .product-card-footer {
    margin-top: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.95rem;
    color: rgba(71, 85, 105, 0.85);
  }

  section {
    margin: 0;
    padding: 4rem 0;
  }

  .section-heading {
    text-align: center;
    max-width: 760px;
    margin: 0 auto 2.75rem;
  }

  .section-heading h2 {
    font-size: clamp(2rem, 4vw, 2.75rem);
    margin-bottom: 1rem;
  }

  .section-heading p {
    color: var(--color-muted);
    font-size: 1.05rem;
    line-height: 1.65;
  }

  .who {
    background: #ffffff;
  }

  .who-grid {
    display: grid;
    gap: 1.75rem;
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  }

  .who-card {
    background: #f8fafc;
    border-radius: 24px;
    padding: 1.75rem;
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.06);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    text-align: left;
    transform: translateY(30px);
    opacity: 0;
    animation: slideUp 0.9s ease forwards;
  }

  .who-card:nth-child(2) {
    animation-delay: 0.1s;
  }

  .who-card:nth-child(3) {
    animation-delay: 0.2s;
  }

  .who-card:nth-child(4) {
    animation-delay: 0.3s;
  }

  .who-icon {
    width: 48px;
    height: 48px;
    border-radius: 16px;
    background: rgba(37, 99, 235, 0.12);
    display: grid;
    place-items: center;
    color: var(--color-primary);
    font-size: 1.5rem;
  }

  .inside {
    display: grid;
    gap: 3rem;
    align-items: center;
  }

  @media (min-width: 960px) {
    .inside {
      grid-template-columns: 1fr 1.2fr;
    }
  }

  .inside-visual {
    position: relative;
    border-radius: var(--radius-xl);
    overflow: hidden;
    box-shadow: var(--shadow-soft);
    background: #f1f5f9;
    min-height: 360px;
  }

  .inside-visual img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .inside-visual::after {
    content: "Professional Worksheet Preview";
    position: absolute;
    bottom: 1.5rem;
    left: 1.5rem;
    background: rgba(15, 23, 42, 0.75);
    color: #fff;
    padding: 0.65rem 1rem;
    border-radius: 12px;
    font-size: 0.9rem;
    letter-spacing: 0.02em;
  }

  .inside-list {
    display: grid;
    gap: 1.25rem;
  }

  .inside-list h3 {
    font-size: 1.3rem;
    font-weight: 600;
  }

  .inside-list ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 1rem;
  }

  .inside-list li {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 0.75rem;
    align-items: start;
    color: var(--color-text);
    font-size: 1.05rem;
    line-height: 1.6;
  }

  .inside-list li svg {
    color: var(--color-primary);
    width: 22px;
    height: 22px;
  }

  .why {
    background: linear-gradient(180deg, rgba(37, 99, 235, 0.08), rgba(248, 250, 252, 0.7));
    border-radius: 32px;
    padding: 4rem 3rem;
    box-shadow: 0 20px 40px rgba(15, 23, 42, 0.08);
    margin-top: 4rem;
  }

  .why-list {
    display: grid;
    gap: 1.5rem;
  }

  .why-list li {
    background: rgba(255, 255, 255, 0.8);
    border-radius: 20px;
    padding: 1.5rem;
    color: var(--color-muted);
    line-height: 1.7;
  }

  .testimonials {
    position: relative;
  }

  .testimonial-track {
    display: grid;
    gap: 1.5rem;
  }

  @media (min-width: 900px) {
    .testimonial-track {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  .testimonial-card {
    background: #ffffff;
    border-radius: 24px;
    padding: 2.25rem;
    box-shadow: var(--shadow-soft);
    position: relative;
    overflow: hidden;
    min-height: 220px;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    opacity: 0;
    animation: fadeLoop 12s ease-in-out infinite;
  }

  .testimonial-card:nth-child(2) {
    animation-delay: 4s;
  }

  .testimonial-card:nth-child(3) {
    animation-delay: 8s;
  }

  .testimonial-card::before {
    content: "\201C";
    position: absolute;
    top: 1.25rem;
    left: 1.75rem;
    font-size: 4rem;
    color: rgba(37, 99, 235, 0.15);
    font-family: "Georgia", serif;
  }

  .testimonial-text {
    font-size: 1.05rem;
    line-height: 1.8;
    color: var(--color-text);
  }

  .testimonial-author {
    font-weight: 600;
    color: var(--color-muted);
  }

  .how {
    background: #f8fafc;
    border-radius: 32px;
    padding: 3.5rem;
    box-shadow: 0 18px 36px rgba(15, 23, 42, 0.08);
  }

  .steps {
    display: grid;
    gap: 1.75rem;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .step-card {
    background: #ffffff;
    border-radius: 24px;
    padding: 1.75rem;
    box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
    display: grid;
    gap: 1rem;
    position: relative;
    overflow: hidden;
    transform: translateY(40px);
    opacity: 0;
    animation: slideUp 0.9s ease forwards;
  }

  .step-card:nth-child(1) { animation-delay: 0.05s; }
  .step-card:nth-child(2) { animation-delay: 0.15s; }
  .step-card:nth-child(3) { animation-delay: 0.25s; }

  .step-number {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(37, 99, 235, 0.1);
    display: grid;
    place-items: center;
    color: var(--color-primary);
    font-weight: 700;
    font-size: 1.1rem;
  }

  .faq {
    padding-bottom: 5rem;
  }

  .faq-list {
    max-width: 860px;
    margin: 0 auto;
    display: grid;
    gap: 1rem;
  }

  .faq-list details {
    background: #ffffff;
    border-radius: 18px;
    padding: 1.5rem 1.75rem;
    box-shadow: 0 14px 30px rgba(15, 23, 42, 0.08);
  }

  .faq-list summary {
    cursor: pointer;
    font-weight: 600;
    font-size: 1.05rem;
    color: var(--color-text);
  }

  .faq-list p {
    margin-top: 0.85rem;
    color: var(--color-muted);
    line-height: 1.7;
  }

  .cta-final {
    padding-bottom: 6rem;
  }

  .cta-card {
    max-width: 960px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.95), rgba(37, 99, 235, 0.75));
    border-radius: 36px;
    padding: 3.5rem 3rem;
    color: #ffffff;
    text-align: center;
    box-shadow: 0 22px 46px rgba(37, 99, 235, 0.35);
    animation: fadeInUp 1s ease forwards;
  }

  .cta-card h2 {
    font-size: clamp(2rem, 4vw, 2.75rem);
    margin-bottom: 1rem;
  }

  .cta-card p {
    font-size: 1.1rem;
    margin-bottom: 2rem;
    color: rgba(255, 255, 255, 0.92);
  }

  .cta-card .button-primary {
    background: #ffffff;
    color: var(--color-primary);
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.15);
  }

  .cta-card .button-primary:hover {
    opacity: 0.9;
  }

  body.animate-ready [data-animate] {
    opacity: 0;
    transform: translateY(42px);
    transition: opacity 0.7s ease, transform 0.7s ease;
  }

  body.animate-ready [data-animate].is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  @media (prefers-reduced-motion: reduce) {
    body.animate-ready [data-animate] {
      opacity: 1;
      transform: none;
    }

    body.animate-ready [data-animate].is-visible {
      transition: none;
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(45px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes floatFade {
    from {
      opacity: 0;
      transform: translateY(36px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes fadeLoop {
    0%, 20% {
      opacity: 1;
    }
    33%, 100% {
      opacity: 0;
    }
  }
</style>

<div class="page-wrapper">
  <div class="content-max">
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-container">
        <article class="hero-card hero-column" data-animate="fade-up">
          <div class="hero-header">
            <span class="hero-badge">Curated Psychology Collection</span>
            <h1 id="hero-title" class="hero-title">Psychology Book Discovery</h1>
            <p class="hero-subtitle">Explore insightful titles that illuminate the mind, strengthen resilience, and translate the latest psychological research into everyday understanding.</p>
          </div>
          <ul class="hero-points">
            <li>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12" />
              </svg>
              <span>Insightful reads spanning cognitive science, emotional wellbeing, relationships, creativity, and lifelong learning.</span>
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="14" rx="2" />
                <path d="M7 8h10M7 12h6" />
              </svg>
              <span>Hardcovers, paperbacks, and workbooks crafted by leading researchers, clinicians, and storytellers.</span>
            </li>
            <li>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 13l4 4L19 7" />
              </svg>
              <span>Guides that weave science, practice, and personal stories to help readers grow, teach, and support others.</span>
            </li>
          </ul>
          <div class="hero-cta">
            <div class="hero-purchase-card" data-animate="fade-up" data-animate-delay="0.1">
              {% assign total_products = all_products_collection.products_count | default: featured_collection.products_count | default: 0 %}
              <div class="hero-price">
                <span class="hero-price-amount">{{ total_products }}</span>
                <span class="hero-price-caption">
                  {% if total_products == 1 %}
                    Product Ready to Shop
                  {% else %}
                    Products Ready to Shop
                  {% endif %}
                </span>
              </div>
              <a
                class="button button-primary"
                href="#product-gallery"
              >Browse All Products</a>
            </div>
          </div>
          <p class="hero-trust">Handpicked for students, practitioners, and curious readers exploring the many dimensions of psychology.</p>
        </article>
        <div class="hero-visual hero-column" aria-hidden="true">
          <div class="hero-showcase">
            <div class="hero-showcase-card" data-animate="fade-up" data-animate-delay="0.15">
              <h3>What You'll Discover</h3>
              <ul class="hero-showcase-list">
                <li>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12" />
                  </svg>
                  Thought-provoking bestsellers &amp; timeless classics
                </li>
                <li>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="14" rx="2" />
                    <path d="M7 8h10M7 12h6" />
                  </svg>
                  Field guides, workbooks &amp; reflective journals
                </li>
                <li>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 20s8-4 8-10a8 8 0 1 0-16 0c0 6 8 10 8 10z" />
                  </svg>
                  Perspectives from clinical practice to everyday wellbeing
                </li>
                <li>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 21v-2a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2" />
                    <circle cx="12" cy="7" r="4" />
                  </svg>
                  Beautifully designed editions made to be shared
                </li>
              </ul>
            </div>
            <div class="hero-showcase-card hero-testimonial" data-animate="fade-up" data-animate-delay="0.3">
              <div>
                <span aria-hidden="true">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</span>
                <p>‚ÄúEvery recommendation feels tailored‚Äîthese books make complex psychology approachable and inspiring.‚Äù</p>
              </div>
              <strong>‚Äî Behavioral Science Educator</strong>
            </div>
          </div>
        </div>
      </div>
    </section>

    {% if all_products_collection and all_products_collection.products_count > 0 %}
      <section class="product-gallery" aria-labelledby="product-gallery-title" id="product-gallery">
        <header data-animate="fade-up">
          <h2 id="product-gallery-title">Explore Our Products</h2>
          <p>Browse every item currently available in the store and dive into the resources that best fit your curiosity.</p>
        </header>
        <div class="product-gallery-grid">
          {% for product in all_products_collection.products %}
            <article class="product-card" data-animate="fade-up" data-animate-delay="{{ forloop.index0 | times: 0.05 }}">
              <a href="{{ product.url }}">
                <div class="product-image">
                  {% if product.featured_image %}
                    <img
                      src="{{ product.featured_image | img_url: '540x' }}"
                      alt="{{ product.featured_image.alt | default: product.title | escape }}"
                      loading="lazy"
                    >
                  {% else %}
                    {% assign placeholder_id = 'product-card-placeholder-' | append: forloop.index0 %}
                    <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="{{ product.title | escape }}">
                      <defs>
                        <linearGradient id="{{ placeholder_id }}" x1="0" y1="0" x2="1" y2="1">
                          <stop offset="0%" stop-color="#bfdbfe" />
                          <stop offset="100%" stop-color="#2563eb" />
                        </linearGradient>
                      </defs>
                      <rect width="400" height="300" rx="28" fill="url(#{{ placeholder_id }})" />
                      <rect x="70" y="70" width="260" height="48" rx="14" fill="rgba(255,255,255,0.7)" />
                      <rect x="70" y="140" width="210" height="36" rx="12" fill="rgba(255,255,255,0.55)" />
                      <rect x="70" y="196" width="170" height="32" rx="10" fill="rgba(255,255,255,0.45)" />
                    </svg>
                  {% endif %}
                </div>
                <div class="product-info">
                  <h3>{{ product.title }}</h3>
                  {% if product.description != blank %}
                    <p>{{ product.description | strip_html | truncate: 100 }}</p>
                  {% endif %}
                  <div class="product-price">
                    {{ product.price | money }}
                    {% if product.compare_at_price_max > product.price %}
                      <del>{{ product.compare_at_price_max | money }}</del>
                    {% endif %}
                  </div>
                  <div class="product-card-footer">
                    {% if product.available %}
                      <span>In stock</span>
                    {% else %}
                      <span>Sold out</span>
                    {% endif %}
                    <span>View details ‚Üí</span>
                  </div>
                </div>
              </a>
            </article>
          {% endfor %}
        </div>
      </section>
    {% endif %}

    <section class="who" aria-labelledby="who-title">
      <div class="section-heading">
        <h2 id="who-title">Curated for Curious Minds &amp; Professionals</h2>
        <p>Discover titles that support academic study, professional practice, and personal exploration across the landscape of psychology.</p>
      </div>
      <div class="who-grid">
        <div class="who-card">
          <div class="who-icon">üß†</div>
          <h3>Foundations of Mind</h3>
          <p>Dive into cognitive science, neuropsychology, and developmental theories from trusted scholars and educators.</p>
        </div>
        <div class="who-card">
          <div class="who-icon">üîç</div>
          <h3>Behavior &amp; Motivation</h3>
          <p>Examine habit formation, attention, and executive function through research-backed frameworks and practical insights.</p>
        </div>
        <div class="who-card">
          <div class="who-icon">üåô</div>
          <h3>Wellbeing &amp; Resilience</h3>
          <p>Explore mindfulness, restorative rest, and whole-person wellness with approachable guidance and reflective exercises.</p>
        </div>
        <div class="who-card">
          <div class="who-icon">‚ù§Ô∏è</div>
          <h3>Relationships &amp; Community</h3>
          <p>Understand family systems, connection, and cultural context through compassionate narratives and research.</p>
        </div>
      </div>
    </section>

    <section class="inside" aria-labelledby="inside-title">
      <div class="inside-visual" aria-hidden="true">
        {% if featured_product and featured_product.featured_image %}
          <img
            src="{{ featured_product.featured_image | img_url: '900x' }}"
            alt="{{ featured_product.featured_image.alt | default: featured_product.title | escape }}"
            loading="lazy"
          >
        {% else %}
          <svg viewBox="0 0 400 320" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
            <defs>
              <linearGradient id="grad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#93c5fd" />
                <stop offset="100%" stop-color="#2563eb" />
              </linearGradient>
            </defs>
            <rect width="400" height="320" fill="url(#grad)" rx="32" />
            <rect x="60" y="60" width="280" height="60" rx="16" fill="rgba(255,255,255,0.7)" />
            <rect x="60" y="140" width="220" height="40" rx="12" fill="rgba(255,255,255,0.5)" />
            <rect x="60" y="200" width="160" height="40" rx="12" fill="rgba(255,255,255,0.4)" />
          </svg>
        {% endif %}
      </div>
      <div class="inside-list">
        <h2 id="inside-title">Inside Our Shelves</h2>
        <h3>Carefully selected books that balance science, story, and practical wisdom.</h3>
        <ul>
          <li>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12" />
            </svg>
            <span><strong>Foundational theories &amp; key texts:</strong> Seminal works from pioneers who shaped the field.</span>
          </li>
          <li>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12" />
            </svg>
            <span><strong>Practical guides &amp; handbooks:</strong> Resources that translate complex ideas into actionable steps.</span>
          </li>
          <li>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12" />
            </svg>
            <span><strong>Voices from diverse disciplines:</strong> Clinicians, researchers, educators, and storytellers offering nuanced perspectives.</span>
          </li>
          <li>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12" />
            </svg>
            <span><strong>Topics for every interest:</strong> From emotional intelligence and behavior change to community care and creativity.</span>
          </li>
        </ul>
      </div>
    </section>

    <section class="why" aria-labelledby="why-title">
      <div class="section-heading">
        <h2 id="why-title">Why Readers Choose Us</h2>
        <p>Thoughtfully curated psychology books that inspire curiosity, deepen knowledge, and encourage compassionate action.</p>
      </div>
      <ul class="why-list">
        <li><strong>Research meets readability:</strong> Each title blends academic rigor with engaging storytelling and real-world application.</li>
        <li><strong>Diverse viewpoints:</strong> Collections highlight global voices, cultural nuance, and interdisciplinary perspectives.</li>
        <li><strong>Trusted sources:</strong> Selected by the Psychology Books team to ensure quality, credibility, and lasting impact.</li>
      </ul>
    </section>

    <section class="testimonials" aria-labelledby="testimonials-title">
      <div class="section-heading">
        <h2 id="testimonials-title">Readers Share Their Experience</h2>
        <p>Reflections from lifelong learners, educators, and clinicians who explore our psychology shelves.</p>
      </div>
      <div class="testimonial-track">
        <div class="testimonial-card">
          <p class="testimonial-text">‚ÄúEach book I‚Äôve picked up has reshaped how I understand the people in my life‚Äîaccessible, evidence-informed, and beautifully written.‚Äù</p>
          <p class="testimonial-author">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è ‚Äî University Counselor</p>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">‚ÄúOur book club keeps returning because the selections spark meaningful conversations about emotions, culture, and resilience.‚Äù</p>
          <p class="testimonial-author">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è ‚Äî Community Facilitator</p>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">‚ÄúAs a clinician, I appreciate the balance of theory and practical application. It‚Äôs my go-to source when recommending reads.‚Äù</p>
          <p class="testimonial-author">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è ‚Äî Licensed Psychologist</p>
        </div>
      </div>
    </section>

    <section class="how" aria-labelledby="how-title">
      <div class="section-heading">
        <h2 id="how-title">How to Explore</h2>
        <p>Simple steps to discover the psychology books that resonate with your interests and goals.</p>
      </div>
      <div class="steps">
        <div class="step-card">
          <span class="step-number">1</span>
          <h3>Browse curated collections</h3>
          <p>Start with our themed shelves‚Äîwhether you‚Äôre studying, teaching, or seeking personal growth.</p>
        </div>
        <div class="step-card">
          <span class="step-number">2</span>
          <h3>Select the titles you love</h3>
          <p>Preview descriptions, author backgrounds, and key takeaways to choose the perfect addition to your reading list.</p>
        </div>
        <div class="step-card">
          <span class="step-number">3</span>
          <h3>Read, learn, and share</h3>
          <p>Enjoy your books in print or digital formats, revisit favorite insights, and recommend them to colleagues and friends.</p>
        </div>
      </div>
    </section>

    <section class="faq" aria-labelledby="faq-title">
      <div class="section-heading">
        <h2 id="faq-title">Frequently Asked Questions</h2>
        <p>Everything you need to know about shopping our psychology bookstore.</p>
      </div>
      <div class="faq-list">
        <details>
          <summary>How do I receive my books?</summary>
          <p>Choose from print or digital formats at checkout. Physical copies ship promptly, while digital editions arrive instantly via download link.</p>
        </details>
        <details>
          <summary>Are these books suitable for professional development?</summary>
          <p>Yes. Many of our titles are adopted in classrooms, therapy practices, and coaching programs to deepen expertise and spark new ideas.</p>
        </details>
        <details>
          <summary>Do you offer recommendations?</summary>
          <p>Our team highlights staff picks and curated reading lists to help you find titles that match your goals‚Äîreach out anytime for personalized suggestions.</p>
        </details>
        <details>
          <summary>Can I read on my favorite devices?</summary>
          <p>Digital purchases are provided in widely compatible formats so you can enjoy them on tablets, e-readers, or laptops with ease.</p>
        </details>
      </div>
    </section>

    <section class="cta-final" aria-labelledby="cta-title">
      <div class="cta-card">
        <h2 id="cta-title">Start Your Next Psychology Reading Journey.</h2>
        <p>From foundational theory to practical guides, discover books that broaden your perspective and inspire meaningful change.</p>
        <a
          class="button button-primary"
          href="#product-gallery"
        >Browse the Collection</a>
      </div>
    </section>
  </div>
</div>

<script>
  if (document.body) {
    document.body.classList.add('animate-ready');
  } else {
    document.addEventListener('DOMContentLoaded', function () {
      document.body.classList.add('animate-ready');
    }, { once: true });
  }

  document.addEventListener('DOMContentLoaded', function () {
    var animated = document.querySelectorAll('[data-animate]');
    if (!animated.length) {
      return;
    }

    var activate = function (el) {
      var delay = el.getAttribute('data-animate-delay');
      if (delay) {
        el.style.transitionDelay = delay + 's';
      }
      el.classList.add('is-visible');
    };

    if ('IntersectionObserver' in window) {
      var observer = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          if (entry.isIntersecting) {
            activate(entry.target);
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });

      animated.forEach(function (el) {
        observer.observe(el);
      });
    } else {
      animated.forEach(activate);
    }
  });
</script>
